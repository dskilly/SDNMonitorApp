<!-- templates/home.html-->
{% extends 'base.html' %}

{% block title %}Home{% endblock %}

{% block content %}
{% if user.is_authenticated %}

  {% load static from staticfiles %}

<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body {
  font-family: "Lato", sans-serif;

		background-image: url("{% static "/Background.webp" %}");
		background-repeat: no-repeat;
		background-attachment: fixed;
		background-position: center;
		background-size: cover;
	
}
#title{

  color: #f2f2f2;
  text-align: right;
  text-decoration: none;
  padding-right: 10px;
}
/*-----------Navbar Style -----*/
/* Style the navbar */
#navbar {
  overflow: hidden;
  background-color: #333;
}

/* Navbar links */
#navbar a {
  float: left;
  display: block;
  color: #f2f2f2;
  text-align: center;
  padding: 14px;
  text-decoration: none;
}

#navbar a:hover {
  background-color: #006cff;
  color: black;
}

#navbar a.active {
  background-color: #4CAF50;
  color: white;
}

/* Page content */
.content {
  padding: 16px;
}

/* The sticky class is added to the navbar with JS when it reaches its scroll position */
.sticky {
  position: fixed;
  top: 0;
  width: 100%;
}

/* Add some top padding to the page content to prevent sudden quick movement (as the navigation bar gets a new position at the top of the page (position:fixed and top:0) */
.sticky + .content {
  padding-top: 60px;
}


/*-----------END Navbar Style -----*/

.text-block {
  position: absolute;
  bottom: 20px;
  right: 20px;
  background-color: black;
  color: white;
  padding-left: 20px;
  padding-right: 20px;
}

/*-----------Graph Style---------*/
#Statchart_chart{
    margin-left: 20%;
	margin-right: 20%;
	position: inline-block;
	background-color: rgba(255,255,255,0.92);
	padding: 15px;
	text-align: center;

	}

</style>
</head>
<body>


<!-- Navbar -->
<div id="navbar">
  <a href="#"><img src={% static "/userico.png" %} class="block"> Welcome, {{ user.username }}</a>
  <a href="{% url 'map2' %}"><img src={% static "/dshbrdico.png" %} class="block"> Topology</a>
  <a href="{% url 'Appmonitorsite' %}"><img src={% static "/appconfigico.png" %} class="block"> Statistics</a>
  <a href="{% url 'admin:index' %}"><img src={% static "/siteconfico.png" %} class="block"> Admin Config</a>
  <a href="{% url 'logout' %}"><img src={% static "/logoutico.png" %} class="block"> Logout</a>
  <p id="title"> ╘PINGAS╛    SDN Monitoring App v 0.5
</div>
<!-- End of navbar -->
<br><br><br><br><br>
 
 
 
 <div id="Statchart_chart"></div>

  
<!-- Google Graph Maker --> 
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
// Load google charts
google.charts.load('current', {'packages':['corechart']});
google.charts.load('current', {'packages':['line']});
google.charts.setOnLoadCallback(drawChart);


// Draw the chart and set the chart values
 function drawChart() {

      var data = new google.visualization.DataTable();
      data.addColumn('number', 'Hour');
      data.addColumn('number', 'Testnode1');
      data.addColumn('number', 'Testnode2');


      data.addRows([
        [1,  37.8, 80.8],
        [2,  30.9, 69.5],
        [3,  25.4,   57],
        [4,  11.7, 18.8],
        [5,  11.9, 17.6],
        [6,   8.8, 13.6],
        [7,   7.6, 12.3],
        [8,  12.3, 29.2],
        [9,  16.9, 42.9],
        [10, 12.8, 30.9],
        [11,  5.3,  7.9],
        [12,  6.6,  8.4],
        [13,  4.8,  6.3],
        [14,  4.2,  6.2]
      ]);

      var options = {
        chart: {
          title: 'Ping response times',
          subtitle: 'in miliseconds'
        },  height: 300
      };

      var chart = new google.charts.Line(document.getElementById('Statchart_chart','Statchart_chart2'));

      chart.draw(data, google.charts.Line.convertOptions(options));
    }
</script>

<script>
//---------Navbar --------------------//
// When the user scrolls the page, execute myFunction 
window.onscroll = function() {myFunction()};

// Get the navbar
var navbar = document.getElementById("navbar");

// Get the offset position of the navbar
var sticky = navbar.offsetTop;

// Add the sticky class to the navbar when you reach its scroll position. Remove "sticky" when you leave the scroll position
function myFunction() {
  if (window.pageYOffset >= sticky) {
    navbar.classList.add("sticky")
  } else {
    navbar.classList.remove("sticky");
  }
}
//---------END Navbar --------------------//


</script>
   
</body>
</html> 
  

{% else %}
  <p>You are not logged in</p>
  <a href="{% url 'login' %}">login</a>
{% endif %}
{% endblock %}